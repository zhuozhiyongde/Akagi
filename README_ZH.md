<br/>
<p align="center">
  <img src="https://github.com/shinkuan/RandomStuff/assets/35415788/db94b436-c3d4-4c57-893e-8db2074d2d22" width="50%">
  <h1 align="center">Akagi</h1>

  <p align="center">
ã€Œæ­»ã­ã°åŠ©ã‹ã‚‹ã®ã«â€¦â€¦â€¦ã€- èµ¤æœ¨ã—ã’ã‚‹<br>
<br>
    <br/>
    <br/>
    <a href="https://discord.gg/Z2wjXUK8bN">æœ‰å•é¡Œè«‹è‡³ Discord è©¢å•</a>
    <br/>
    <br/>
    <a href="./README.md">English</a>
    <br/>
    <a href="https://github.com/shinkuan/Akagi/issues">å›å ±éŒ¯èª¤</a>
    .
    <a href="https://github.com/shinkuan/Akagi/issues">åŠŸèƒ½è«‹æ±‚</a>
  </p>
</p>

<p align="center">
  <a href="https://github.com/shinkuan/Akagi"><img src="https://img.shields.io/github/stars/shinkuan/Akagi?logo=github" alt="GitHub stars" /></a>
  <a href="https://github.com/shinkuan/Akagi/releases"><img src="https://img.shields.io/github/v/release/shinkuan/Akagi?label=release&logo=github" alt="GitHub release" /></a>
  <a href="https://github.com/shinkuan/Akagi/issues"><img src="https://img.shields.io/github/issues/shinkuan/Akagi?logo=github" alt="GitHub issues" /></a>
  <a href="https://github.com/shinkuan/Akagi"><img src="https://img.shields.io/github/languages/top/shinkuan/Akagi?logo=python" alt="Top language" /></a>
  <a href="https://discord.gg/Z2wjXUK8bN"><img src="https://img.shields.io/discord/1192792431364673577?label=discord&logo=discord&color=7289DA" alt="Discord" /></a>
  <a href="https://deepwiki.com/shinkuan/Akagi"><img src="https://deepwiki.com/badge.svg" alt="Ask DeepWiki"></a>
</p>

# é—œæ–¼

## ã€Œæœ¬å°ˆæ¡ˆæ—¨åœ¨æä¾›ä¸€å€‹ä¾¿åˆ©çš„æ–¹å¼ï¼Œè®“ç©å®¶å¯ä»¥å³æ™‚äº†è§£è‡ªå·±åœ¨éº»å°‡å°å±€ä¸­çš„è¡¨ç¾ï¼Œä¸¦è—‰æ­¤å­¸ç¿’èˆ‡é€²æ­¥ã€‚æ­¤å°ˆæ¡ˆåƒ…ä¾›æ•™è‚²ç”¨é€”ï¼Œä½œè€…ä¸å°ä½¿ç”¨è€…åˆ©ç”¨æ­¤å°ˆæ¡ˆæ¡å–çš„ä»»ä½•è¡Œç‚ºè² è²¬ã€‚è‹¥ä½¿ç”¨è€…é•åéŠæˆ²æœå‹™æ¢æ¬¾ï¼ŒéŠæˆ²é–‹ç™¼è€…èˆ‡ç™¼è¡Œå•†æœ‰æ¬Šé€²è¡Œè™•ç½®ï¼ŒåŒ…å«å¸³è™Ÿåœæ¬Šç­‰å¾Œæœï¼Œèˆ‡ä½œè€…ç„¡é—œã€‚ã€

![image](./docs/images/example_majsoul.png)

# åŠŸèƒ½
- å³æ™‚é¡¯ç¤ºå°å±€è³‡è¨Š
- å³æ™‚é¡¯ç¤º AI è©•ä¼°
- æ”¯æ´é›€é­‚ã€å¤©é³³ã€éº»é›€ä¸€ç•ªè¡—ã€å¤©æœˆ
- æ”¯æ´å››äººéº»å°‡èˆ‡ä¸‰äººéº»å°‡
- å¯ä½¿ç”¨å¤šç¨® AI æ¨¡å‹
  - å…§å»ºæ¨¡å‹
  - ç·šä¸Šä¼ºæœå™¨æ¨¡å‹
  - è‡ªè£½æ¨¡å‹
- è‡ªå‹•åŒ–å°å±€
  - *åªæœ‰åœ¨Windows Releaseç‰ˆä¸­é–‹å•Ÿot_serveræ™‚å¯ç”¨
- TUI ä»‹é¢
  - æ”¯æ´å¤šç¨®ä¸»é¡Œ

# ç›®éŒ„

### âš ï¸ ä»”ç´°é–±è®€ä»¥ä¸‹å…§å®¹å†é–‹å§‹ä½¿ç”¨ âš ï¸
### âš ï¸ ä»”ç´°é–±è®€ä»¥ä¸‹å…§å®¹å†é–‹å§‹ä½¿ç”¨ âš ï¸
### âš ï¸ ä»”ç´°é–±è®€ä»¥ä¸‹å…§å®¹å†é–‹å§‹ä½¿ç”¨ âš ï¸

- [é—œæ–¼](#é—œæ–¼)
- [é–‹å§‹å‰](#é–‹å§‹å‰)
- [å®‰è£](#å®‰è£)
- [ä½¿ç”¨æ–¹å¼](#ä½¿ç”¨æ–¹å¼)
- [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)
- [é–‹ç™¼è€…](#é–‹ç™¼è€…)
- [æˆæ¬Š](#æˆæ¬Š)

# é–‹å§‹å‰

ğŸ¥[æ•™å­¸å½±ç‰‡é€£çµ](https://youtu.be/Z88Ncxbe2nw)

### ä½ å°‡éœ€è¦ï¼š

1. ä¸€å€‹ `mjai_bot`
   1. æ­¤é …ç›®å·²ç¶“åŒ…å«ä¸€å€‹å¯ç”¨çš„`mortal` mjai botåœ¨[é€™é‚Š](./mjai_bot/mortal)
      - ç”±æ–¼æª”æ¡ˆå¤§å°é™åˆ¶ï¼Œåœ¨`./mjai_bot/mortal`ä¸‹çš„`mortal.pth`æ˜¯ä¸€å€‹è¼ƒå°çš„æ¨¡å‹
      - ä¸å»ºè­°åœ¨å¯¦éš›å°å±€ä¸­ä½¿ç”¨
      - è‹¥æƒ³å–å¾—å…¶ä»–æ¨¡å‹ï¼Œå¯ä»¥å¾ [Discord](https://discord.gg/Z2wjXUK8bN) å–å¾—
      - è‹¥æƒ³å–ç”¨æ›´å¼·çš„ AI æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç·šä¸Šä¼ºæœå™¨æ¶è¨­çš„æ¨¡å‹
      - å¯å¾ [Discord](https://discord.gg/Z2wjXUK8bN) å–å¾— API é‡‘é‘°
   2. æˆ–è‡ªè¡Œè£½ä½œï¼Œè«‹åƒé–± [é–‹ç™¼è€…](#é–‹ç™¼è€…)
2. ä½¿ç”¨ Windows Terminal é–‹å•Ÿ Akagi æ‰èƒ½çœ‹åˆ°æ¼‚äº®çš„ TUI
3. ä½¿ç”¨ Proxifier æˆ–é¡ä¼¼å·¥å…·å°‡éŠæˆ²æµé‡å°å‘ MITM åŸ å£

> [!TIP]
> æœ‰äº›äººç‚ºProxifieræ’°å¯«äº†Keygenï¼Œä½ å¯ä»¥é€éGoogleæ‰¾åˆ°å®ƒã€‚
>
> ä½œè€…å°ä½¿ç”¨è€…æ‰€æ¡å–çš„ä»»ä½•éæ³•è¡Œç‚ºä¸è² è²¬ä»»ã€‚

> [!WARNING]  
> è«‹ä½¿ç”¨ Windows Terminalï¼Œå¦å‰‡ä»‹é¢é¡¯ç¤ºå°‡ç•°å¸¸

### æ”¯æ´çš„éº»å°‡éŠæˆ²ï¼š

| å¹³å°          | å››äººéº»å°‡       | ä¸‰äººéº»å°‡       | è‡ªå‹•æ‰“ç‰Œ |
| ------------- | ------------- | -------------- | -------- |
| __é›€é­‚__      | &check;       | &check;        | *&check; |
| __å¤©é³³__      | &check;       | &check;        |  &cross; |
| __éº»é›€ä¸€ç•ªè¡—__ | &check;       | &check;        |  &cross; |
| __å¤©æœˆ__      | &check;       | &check;        |  &cross; |

*è‡ªå‹•æ‰“ç‰Œåƒ…æ”¯æ´[Windows Releaseç‰ˆ](https://github.com/shinkuan/Akagi/releases)ï¼Œä¸”ot_serverå¿…é ˆå•Ÿç”¨ã€‚

# å®‰è£

- ä¸€èˆ¬ä½¿ç”¨è€…ï¼š
  - å‰å¾€ [release é é¢](https://github.com/shinkuan/Akagi/releases)
  - ä¸‹è¼‰æœ€æ–°ç‰ˆ
  - è§£å£“ç¸® ZIP æª”æ¡ˆ
  - å°‡ MJAI æ©Ÿå™¨äººæ”¾åˆ° `./Akagi/mjai_bot`
  - åŸ·è¡Œ `run_akagi.exe`
- é–‹ç™¼è€…ï¼š
  - clone æ­¤å°ˆæ¡ˆ
  - ä½¿ç”¨ Python 3.12
  - å®‰è£ç›¸ä¾å¥—ä»¶ `pip install -r requirements.txt`
  - å°‡ MJAI æ©Ÿå™¨äººæ”¾åˆ° `./Akagi/mjai_bot`
    - å…§å»ºæ¨¡å‹ï¼šå°‡ `./mjai_bot/mortal/libriichi/libriichi-<version>-<platform>.<extension>` ç§»å‹•åˆ° `./mjai_bot/mortal/libriichi.<extension>`ã€‚
    - ä¸‰äººæ¨¡å‹äº¦åŒã€‚
  - åŸ·è¡Œ `run_akagi.py`

# ä½¿ç”¨æ–¹å¼


1. **æª¢æŸ¥è¨­å®šèˆ‡ AI æ¨¡å‹**
   1. é¸æ“‡æ¨¡å‹
      - é»é¸å·¦ä¸‹è§’çš„ã€ŒModelã€æŒ‰éˆ•
      - å¾æ¸…å–®ä¸­é¸æ“‡ä¸€å€‹æ¨¡å‹
      - è‹¥æ²’æœ‰æ¨¡å‹ï¼Œå¯å¾ [Discord](https://discord.gg/Z2wjXUK8bN) å–å¾—
      - å…§å»ºé è¨­æ¨¡å‹ç‚ºå¼± AI
      - __3 äººå°å±€è«‹é¸ 3P æ¨¡å‹ï¼__
      - __ä¸è¦ç”¨ 4P æ¨¡å‹åƒèˆ‡ 3 äººå°å±€ï¼__
   2. æª¢æŸ¥è¨­å®š
      - é»é¸å·¦ä¸‹è§’çš„ã€ŒSettingsã€æŒ‰éˆ•
      - æª¢æŸ¥è¨­å®šæ˜¯å¦æ­£ç¢º
      - å°‡ MITM é¡å‹è¨­å®šç‚ºä½ æ­£åœ¨ç©çš„éŠæˆ²
      - è¨­å®šæ­£ç¢ºçš„ MITM Hostèˆ‡Port
      - è‹¥ä¸æ¸…æ¥šï¼Œè«‹ä¿ç•™é è¨­å€¼
      - é è¨­å€¼: (host: 127.0.0.1) (port: 7880)
      - è‹¥ä½ æœ‰å–å¾—ç·šä¸Šä¼ºæœå™¨ API é‡‘é‘°ï¼Œè«‹åœ¨è¨­å®šä¸­è¼¸å…¥
      - ç·šä¸Šä¼ºæœå™¨æä¾›æ›´å¼·çš„ AI æ¨¡å‹
      - å¯å¾ [Discord](https://discord.gg/Z2wjXUK8bN) å–å¾— API é‡‘é‘°
   3. å„²å­˜è¨­å®š
      - é»é¸ã€ŒSaveã€æŒ‰éˆ•
      - å°‡è¨­å®šå„²å­˜ä¸‹ä¾†
   4. é‡æ–°å•Ÿå‹• Akagi
      - é—œé–‰ Akagi ä¸¦é‡æ–°é–‹å•Ÿ
      - è¨­å®šæ‰æœƒå¥—ç”¨
   5. å•Ÿå‹• MITM
      - é»é¸å·¦ä¸‹è§’çš„ã€ŒMITM Stoppedã€æŒ‰éˆ•
      - é€™æœƒå•Ÿå‹• MITM ä»£ç†ä¼ºæœå™¨

2. **å®‰è£ MITM Proxy æ†‘è­‰**
   1. é–‹å•Ÿæª”æ¡ˆç¸½ç®¡ï¼ˆæŒ‰ä¸‹ `Windows éµ + E`ï¼‰
   2. åœ¨ä¸Šæ–¹åœ°å€æ¬„è¼¸å…¥ `%USERPROFILE%\.mitmproxy` ç„¶å¾ŒæŒ‰ Enter
   3. æ‰¾åˆ°åç‚º `mitmproxy-ca-cert.cer` çš„æª”æ¡ˆ
   4. é›™æ“Šè©²æª”æ¡ˆ
   5. é»é¸ã€Œå®‰è£æ†‘è­‰ã€æŒ‰éˆ•
   6. è‹¥å‡ºç¾é¸é …ï¼Œè«‹é¸ã€Œæœ¬æ©Ÿé›»è…¦ã€ï¼Œç„¶å¾Œé»é¸ã€Œä¸‹ä¸€æ­¥ã€
   7. é¸æ“‡ã€Œå°‡æ‰€æœ‰æ†‘è­‰æ”¾å…¥ä¸‹åˆ—å­˜æ”¾å€ã€ï¼Œç„¶å¾Œé»ã€Œç€è¦½...ã€
   8. é¸ã€Œå—ä¿¡ä»»çš„æ ¹æ†‘è­‰æˆæ¬Šå–®ä½ã€ï¼ŒæŒ‰ä¸‹ OKï¼Œå†é»é¸ã€Œä¸‹ä¸€æ­¥ã€èˆ‡ã€Œå®Œæˆã€
   9. è‹¥ç³»çµ±è¦æ±‚æ¬Šé™ï¼Œè«‹é»é¸ã€Œæ˜¯ã€

3. **Proxifier è¨­å®š**
   1. é–‹å•Ÿ Proxifier ä¸¦å‰å¾€ã€ŒProfileã€>ã€ŒProxy Servers...ã€
   2. é»é¸ã€ŒAdd...ã€ï¼Œä¸¦è¼¸å…¥ä»¥ä¸‹è³‡è¨Šï¼š
      - åœ°å€: é è¨­ç‚º 127.0.0.1
      - åŸ è™Ÿ: é è¨­ç‚º 7880
      - å”å®š: HTTPS
   3. é»é¸ã€ŒOKã€å„²å­˜ä»£ç†è¨­å®š
   4. å‰å¾€ã€ŒProfileã€>ã€ŒProxification Rules...ã€
   5. é»é¸ã€ŒAdd...ã€æ–°å¢ä¸€æ¢è¦å‰‡
   6. åœ¨ã€ŒApplicationsã€é ç±¤é»é¸ã€ŒBrowse...ã€ä¸¦é¸æ“‡éŠæˆ²åŸ·è¡Œæª”
      - ä»¥é›€é­‚ï¼ˆMahjong Soulï¼‰Steam ç‰ˆç‚ºä¾‹:
        - åˆ° Steam è³‡æ–™åº«ä¸­æ‰¾åˆ°éŠæˆ²
        - é»é¸ç®¡ç†æŒ‰éˆ•ï¼ˆé½’è¼ªåœ–ç¤ºï¼‰ä¸¦é¸æ“‡ã€Œç€è¦½æœ¬æ©Ÿæª”æ¡ˆ...ã€
        - é€™æœƒé–‹å•ŸéŠæˆ²å®‰è£è³‡æ–™å¤¾
        - ä½ æ‡‰è©²èƒ½æ‰¾åˆ°é›€é­‚çš„åŸ·è¡Œé»¨ (`Jantama_MahjongSoul.exe`).
        - è‹¥ä½¿ç”¨å…¶ä»–å¹³å°ï¼Œè«‹å°‹æ‰¾ç›¸ä¼¼çš„é¸é …
      - é›€é­‚ï¼ˆMahjong Soulï¼‰ç¶²é ç‰ˆ:
        - éŠæˆ²åŸ·è¡Œæª”ç‚º `chrome.exe` æˆ– `firefox.exe`
        - æ³¨æ„ï¼šé€™æ¨£æœƒå°è‡´æ‰€æœ‰ Chrome æˆ– Firefox æµé‡éƒ½ç¶“éä»£ç†
   7. ã€ŒTarget Hostsã€å¯ç¶­æŒé è¨­
   8. ã€ŒActionã€é¸æ“‡å‰›æ–°å¢çš„ä»£ç†ä¼ºæœå™¨
   9. é»é¸ã€ŒOKã€å„²å­˜è¦å‰‡

4. **å•Ÿå‹•éŠæˆ²ç”¨æˆ¶ç«¯**
5. **åŠ å…¥å°å±€**
6. **æª¢æŸ¥ Akagi**
   1. ç¾åœ¨ä½ æ‡‰è©²èƒ½çœ‹åˆ° AI å¯¦æ™‚åˆ†æå°å±€
   2. è‹¥æ²’æœ‰ï¼Œè«‹æª¢æŸ¥è¨­å®šèˆ‡ Proxifier è¨­å®š
   3. æˆ–æ˜¯æª¢æŸ¥Logsï¼Œçœ‹çœ‹æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯
   4. è‹¥æœ‰éŒ¯èª¤è¨Šæ¯ï¼Œå¯ä»¥åˆ° [Discord](https://discord.gg/Z2wjXUK8bN) å°‹æ±‚å”åŠ©

## æ“ä½œèªªæ˜

### Akagi

#### å•Ÿå‹• MITM ä»£ç†ä¼ºæœå™¨ï¼š
![image](./docs/gifs/start_mitm.gif)

#### é¸æ“‡ AI æ¨¡å‹ï¼š
æ¨¡å‹å„²å­˜åœ¨ `./mjai_bot/` è³‡æ–™å¤¾
![image](./docs/gifs/select_model.gif)

#### è®Šæ›´è¨­å®šï¼š
> [!IMPORTANT]  
> é‡å•Ÿå¾Œè¨­å®šæ‰æœƒå¥—ç”¨

![image](./docs/gifs/settings.gif)

#### é–‹å•Ÿæ—¥èªŒï¼š
å‡ºç¾å•é¡Œæ™‚å¯é–‹å•Ÿæ—¥èªŒä»¥äº†è§£ç‹€æ³ï¼Œä¸¦é™„ä¸Šå›å ±
å„²å­˜è·¯å¾‘ï¼š`./logs/`
![image](./docs/gifs/logs_screen.gif)

#### åˆ‡æ› MJAI è³‡è¨Šè¦–çª—å…§å®¹ï¼š
é»é¸è©²è¦–çª—å³å¯åˆ‡æ›
![image](./docs/gifs/change_window.gif)

#### AutoPlay:
> [!NOTE]
> AutoPlay åƒ…åœ¨ Windows Release ç‰ˆä¸­å•Ÿç”¨ï¼Œä¸”å¿…é ˆå•Ÿå‹• ot_serverã€‚

ç¢ºä¿éŠæˆ²ç”¨æˆ¶ç«¯çš„é¡¯ç¤ºæ¯”ä¾‹è¨­å®šç‚º 16:9
![image](./docs/images/autoplay_example/good.png)
![image](./docs/images/autoplay_example/bad_1.png)
![image](./docs/images/autoplay_example/bad_2.png)

#### æ›´æ›ä¸»é¡Œï¼š
![image](./docs/gifs/change_theme.gif)

#### ç«‹ç›´å®£å‘Š
ç”±æ–¼MJAIå”è­°çš„é™åˆ¶ï¼Œå»ºè­°æ¬„ç‚ºç«‹ç›´æ™‚ä¸¦ä¸æœƒé¡¯ç¤ºæ£„ç‰Œã€‚
ä½ å¿…é ˆæ‰‹å‹•é»æ“Šç«‹ç›´æŒ‰éˆ•ä¾†å®£å‘Šç«‹ç›´ã€‚
![image](./docs/gifs/call_reach.gif)

### Proxifier

> [!NOTE]  
> [Proxifier](https://www.proxifier.com/) å¯å°‡æŒ‡å®šç¨‹å¼çš„ç¶²è·¯æµé‡å°å‘ä»£ç†ä¼ºæœå™¨

#### Proxifier ä»£ç†è¨­å®šç¯„ä¾‹ï¼š
![image](./docs/images/proxifier/open_proxy_setting.png)
![image](./docs/images/proxifier/proxy_setting.png)

#### Proxifier è¦å‰‡è¨­å®šç¯„ä¾‹ï¼š
![image](./docs/images/proxifier/open_proxy_rule.png)
![image](./docs/images/proxifier/proxy_rule_setting.png)

<!-- Trobleshooting -->
# å¸¸è¦‹å•é¡Œ

ä½ å¯ä»¥åˆ°[Discord](https://discord.gg/Z2wjXUK8bN)ä¸Šè©¢å•å•é¡Œã€‚

> [!TIP]
> è‹¥ä½ æœ‰ä»»ä½•å•é¡Œï¼Œè«‹é™„ä¸Šæ—¥èªŒæª”æ¡ˆï¼Œé€™æ¨£æˆ‘æ‰èƒ½æ›´å¿«åœ°å¹«åŠ©ä½ ã€‚
> æ—¥èªŒæª”æ¡ˆä½æ–¼ `./logs/` è³‡æ–™å¤¾ä¸­ã€‚

> [!NOTE]
> è‹¥ä½ åœ¨ä½¿ç”¨éç¨‹ä¸­é‡åˆ°ä»»ä½•å•é¡Œï¼Œä½ å¯ä»¥åˆ°Github Issuesé é¢å›å ±å•é¡Œã€‚
> æˆ–æ˜¯åˆ°[Discord](https://discord.gg/Z2wjXUK8bN)ä¸Šè©¢å•å•é¡Œã€‚

- MITM Proxy ç„¡æ³•å•Ÿå‹•
  - ç¢ºèªæ˜¯å¦æœ‰å…¶ä»–ç¨‹å¼ä½”ç”¨åŸ å£
  - ç¢ºèªæ˜¯å¦æœ‰å®‰è£MITM Proxyè­‰æ›¸
  - ç¢ºèªè¨­å®šçš„ Host èˆ‡ Port æ˜¯å¦æ­£ç¢º
  - ç¢ºèªæ˜¯å¦æœ‰é˜²ç«ç‰†é˜»æ“‹ MITM Proxy
  - ç¢ºèªä½ çš„ Proxifier è¨­å®šæ˜¯å¦æ­£ç¢º
  - ç¢ºèªMITM Proxy Serveræ˜¯å¦å·²ç¶“å•Ÿå‹•
  - å¦‚æœé‚„æ˜¯ç„¡æ³•å•Ÿå‹•ï¼Œè«‹åƒè€ƒ[é€™å€‹Issue](https://github.com/shinkuan/Akagi/issues/57).


# é–‹ç™¼è€…

## å°ˆæ¡ˆçµæ§‹

- `./Akagi/` - å°ˆæ¡ˆä¸»è¦è³‡æ–™å¤¾
  - `akagi/` - Akagi çš„ Textual UI
  - `logs/` - æ—¥èªŒ
  - `mitm/` - MITM ä»£ç†ä¼ºæœå™¨
    - `bridge/` - éŠæˆ²ç”¨æˆ¶ç«¯èˆ‡ä¼ºæœå™¨çš„æ©‹æ¥å™¨ï¼Œç”¨ä¾†è½‰æ›ç‚º MJAI å”è­°
      - `majsoul/` - é›€é­‚æ©‹æ¥å™¨
      - `tenhou/` - å¤©é³³æ©‹æ¥å™¨
      - `amatsuki/` - å¤©æœˆæ©‹æ¥å™¨
  - `mjai_bot/` - MJAI æ©Ÿå™¨äºº
    - `base/` - æ©Ÿå™¨äººåŸºç¤é¡åˆ¥ï¼Œå¯åƒè€ƒè‡ªè£½æ©Ÿå™¨äºº
    - `*/` - å„ç¨® botï¼Œä¾‹å¦‚ `mortal/`
  - `settings/` - è¨­å®šæª”è³‡æ–™å¤¾
  - `run_akagi.py` - åŸ·è¡Œä¸»ç¨‹å¼

## æ©‹æ¥å™¨

è¦è£½ä½œä¸€å€‹æ©‹æ¥å™¨ï¼Œéœ€å¯¦ä½œå…©éƒ¨åˆ†ï¼š

1. `mitm/bridge/mitm_abc.py` ä¸­çš„ `ClientWebSocketABC`
2. `mitm/bridge/bridge_base.py` ä¸­çš„ `Bridge`

ClientWebSocketABC æ˜¯ mitmproxy çš„ addonï¼ŒåŠŸèƒ½æ˜¯å°‡éŠæˆ²å”è­°è½‰ç‚º MJAI å”è­°ä¸¦æ¨å…¥ `mjai_messages: queue.Queue[dict] = queue.Queue()`ã€‚å¯åƒè€ƒ `mitm/majsoul/`ã€‚

Bridge ç‚ºæ©‹æ¥ä¸»é¡åˆ¥ï¼Œéœ€å¯¦ä½œ `parse()` æ–¹æ³•ï¼Œå°‡éŠæˆ²æ”¶åˆ°çš„ä½å…ƒè³‡æ–™è§£æç‚º `None | list[dict]`ï¼Œå¯åƒè€ƒ `mitm/bridge/amatsuki/bridge.py`ã€‚

## MJAI æ©Ÿå™¨äºº

è¦è£½ä½œ MJAI æ©Ÿå™¨äººï¼Œéœ€å¯¦ä½œ `mjai_bot/base/bot.py` ä¸­çš„ `Bot` é¡åˆ¥ã€‚

TODO: è£½ä½œä¸€å€‹ tsumogiri bot ç¯„ä¾‹

## TODO

- [x] æ”¯æ´ä¸‰äººéº»å°‡
- [x] æ”¯æ´ RiichiCity
- [x] ç«‹ç›´å¾Œæ¨è–¦åˆ‡ç‰Œ
- [ ] æ§“å¾Œæ¨è–¦åˆ‡ç‰Œï¼ˆæ¥µå°‘è¦‹ï¼‰

# ä½œè€…

- [Shinkuan](https://github.com/shinkuan/) - shinkuan318@gmail.com
- [Discord](https://discord.gg/Z2wjXUK8bN)


# æˆæ¬Šæ¢æ¬¾

```
â€œCommons Clauseâ€ License Condition v1.0

The Software is provided to you by the Licensor under the License, as defined below, subject to the following condition.

Without limiting other conditions in the License, the grant of rights under the License will not include, and the License does not grant to you, the right to Sell the Software.

For purposes of the foregoing, â€œSellâ€ means practicing any or all of the rights granted to you under the License to provide to third parties, for a fee or other consideration (including without limitation fees for hosting or consulting/ support services related to the Software), a product or service whose value derives, entirely or substantially, from the functionality of the Software. Any license notice or attribution required by the License must also include this Commons Clause License Condition notice.

Software: Akagi

License: GNU Affero General Public License version 3 with Commons Clause

Licensor: shinkuan
```
